"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function debounce(s,n,r){var o;return function(){var t=this,e=arguments,i=r&&!o;clearTimeout(o),o=setTimeout(function(){o=null,r||s.apply(t,e)},n),i&&s.apply(t,e)}}var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},_createClass=function(){function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}}();Array.from||(Array.from=function(){var e=Object.prototype.toString,l=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},s=Math.pow(2,53)-1,h=function(t){var e,i=(e=Number(t),isNaN(e)?0:0!==e&&isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e);return Math.min(Math.max(i,0),s)};return function(t){var e=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,s=1<arguments.length?arguments[1]:void 0;if(void 0!==s){if(!l(s))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(i=arguments[2])}for(var n,r=h(e.length),o=l(this)?Object(new this(r)):new Array(r),a=0;a<r;)n=e[a],o[a]=s?void 0===i?s(n,a):s.call(i,n,a):n,a+=1;return o.length=r,o}}()),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(var i=0;i<this.length;i++)t.call(e,this[i],i,this)}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),s=1;s<arguments.length;s++){var n=arguments[s];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},writable:!0,configurable:!0});var TinyGesture=function(){function i(t,e){_classCallCheck(this,i),e=Object.assign({},i.defaults,e),this.element=t,this.opts=e,this.touchStartX=null,this.touchStartY=null,this.touchEndX=null,this.touchEndY=null,this.velocityX=null,this.velocityY=null,this.longPressTimer=null,this.doubleTapWaiting=!1,this.handlers={panstart:[],panmove:[],panend:[],swipeleft:[],swiperight:[],swipeup:[],swipedown:[],tap:[],doubletap:[],longpress:[]},this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this.element.addEventListener("touchstart",this._onTouchStart,passiveIfSupported),this.element.addEventListener("touchmove",this._onTouchMove,passiveIfSupported),this.element.addEventListener("touchend",this._onTouchEnd,passiveIfSupported),!this.opts.mouseSupport||"ontouchstart"in window||(this.element.addEventListener("mousedown",this._onTouchStart,passiveIfSupported),document.addEventListener("mousemove",this._onTouchMove,passiveIfSupported),document.addEventListener("mouseup",this._onTouchEnd,passiveIfSupported))}return _createClass(i,[{key:"destroy",value:function(){this.element.removeEventListener("touchstart",this._onTouchStart),this.element.removeEventListener("touchmove",this._onTouchMove),this.element.removeEventListener("touchend",this._onTouchEnd),this.element.removeEventListener("mousedown",this._onTouchStart),document.removeEventListener("mousemove",this._onTouchMove),document.removeEventListener("mouseup",this._onTouchEnd),clearTimeout(this.longPressTimer),clearTimeout(this.doubleTapTimer)}},{key:"on",value:function(t,e){var i=this;if(this.handlers[t])return this.handlers[t].push(e),{type:t,fn:e,cancel:function(){return i.off(t,e)}}}},{key:"off",value:function(t,e){if(this.handlers[t]){var i=this.handlers[t].indexOf(e);-1!==i&&this.handlers[t].splice(i,1)}}},{key:"fire",value:function(t,e){for(var i=0;i<this.handlers[t].length;i++)this.handlers[t][i](e)}},{key:"onTouchStart",value:function(t){var e=this;this.thresholdX=this.opts.threshold("x",this),this.thresholdY=this.opts.threshold("y",this),this.disregardVelocityThresholdX=this.opts.disregardVelocityThreshold("x",this),this.disregardVelocityThresholdY=this.opts.disregardVelocityThreshold("y",this),this.touchStartX="mousedown"===t.type?t.screenX:t.changedTouches[0].screenX,this.touchStartY="mousedown"===t.type?t.screenY:t.changedTouches[0].screenY,this.touchMoveX=null,this.touchMoveY=null,this.touchEndX=null,this.touchEndY=null,this.longPressTimer=setTimeout(function(){return e.fire("longpress",t)},this.opts.longPressTime),this.fire("panstart",t)}},{key:"onTouchMove",value:function(t){if("mousemove"!==t.type||this.touchStartX&&null===this.touchEndX){var e=("mousemove"===t.type?t.screenX:t.changedTouches[0].screenX)-this.touchStartX;this.velocityX=e-this.touchMoveX,this.touchMoveX=e;var i=("mousemove"===t.type?t.screenY:t.changedTouches[0].screenY)-this.touchStartY;this.velocityY=i-this.touchMoveY,this.touchMoveY=i;var s=Math.abs(this.touchMoveX),n=Math.abs(this.touchMoveY);this.swipingHorizontal=s>this.thresholdX,this.swipingVertical=n>this.thresholdY,this.swipingDirection=n<s?this.swipingHorizontal?"horizontal":"pre-horizontal":this.swipingVertical?"vertical":"pre-vertical",Math.max(s,n)>this.opts.pressThreshold&&clearTimeout(this.longPressTimer),this.fire("panmove",t)}}},{key:"onTouchEnd",value:function(t){var e=this;if("mouseup"!==t.type||this.touchStartX&&null===this.touchEndX){this.touchEndX="mouseup"===t.type?t.screenX:t.changedTouches[0].screenX,this.touchEndY="mouseup"===t.type?t.screenY:t.changedTouches[0].screenY,this.fire("panend",t),clearTimeout(this.longPressTimer);var i=this.touchEndX-this.touchStartX,s=Math.abs(i),n=this.touchEndY-this.touchStartY,r=Math.abs(n);s>this.thresholdX||r>this.thresholdY?(this.swipedHorizontal=this.opts.diagonalSwipes?Math.abs(i/n)<=this.opts.diagonalLimit:r<=s&&s>this.thresholdX,this.swipedVertical=this.opts.diagonalSwipes?Math.abs(n/i)<=this.opts.diagonalLimit:s<r&&r>this.thresholdY,this.swipedHorizontal&&(i<0?(this.velocityX<-this.opts.velocityThreshold||i<-this.disregardVelocityThresholdX)&&this.fire("swipeleft",t):(this.velocityX>this.opts.velocityThreshold||i>this.disregardVelocityThresholdX)&&this.fire("swiperight",t)),this.swipedVertical&&(n<0?(this.velocityY<-this.opts.velocityThreshold||n<-this.disregardVelocityThresholdY)&&this.fire("swipeup",t):(this.velocityY>this.opts.velocityThreshold||n>this.disregardVelocityThresholdY)&&this.fire("swipedown",t))):s<this.opts.pressThreshold&&r<this.opts.pressThreshold&&(this.doubleTapWaiting?(this.doubleTapWaiting=!1,clearTimeout(this.doubleTapTimer),this.fire("doubletap",t)):(this.doubleTapWaiting=!0,this.doubleTapTimer=setTimeout(function(){return e.doubleTapWaiting=!1},this.opts.doubleTapTime),this.fire("tap",t)))}}}]),i}(),passiveIfSupported=!(TinyGesture.defaults={threshold:function(t,e){return Math.max(25,Math.floor(.15*("x"===t?window.innerWidth||document.body.clientWidth:window.innerHeight||document.body.clientHeight)))},velocityThreshold:10,disregardVelocityThreshold:function(t,e){return Math.floor(.5*("x"===t?e.element.clientWidth:e.element.clientHeight))},pressThreshold:8,diagonalSwipes:!1,diagonalLimit:Math.tan(.375*Math.PI),longPressTime:500,doubleTapTime:300,mouseSupport:!0});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){passiveIfSupported={passive:!0}}}))}catch(t){}var A11yCarousel=function t(e,i){var s=this;_classCallCheck(this,t),this.setSlider=debounce(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(t>=s._slides.length&&(t=0),t<0&&(t=s._slides.length-1),s._sliderIndex==t)return null;var e=s._sliderIndex,i=t;(s._sliderIndex=t,s._slides[e].style.opacity=0,s._slides[e].style.zIndex=2,s._slides[i].style.zIndex=1,s._slides[i].style.display="block",s.getSettings().dots)&&Array.from(s.dotsWrapper.children).forEach(function(t){t.getAttribute("data-slider-id")==i?(t.classList.add("active"),t.setAttribute("tabindex",0)):(t.classList.remove("active"),t.setAttribute("tabindex",-1))});setTimeout(function(){s._slides[e].style.zIndex=1,s._slides[i].style.zIndex=2,s._slides[e].style.opacity=null,s._slides[e].style.display="none"},parseInt(s.getSettings().transitionSpeed)+100)},200),this.initSlidesSize=function(){var t=Array.from(s._element.querySelectorAll("img"));0==t.length?s.setSize():(s.setSize(),t[t.length-1].addEventListener("load",function(){s.setSize()}))},this.setSize=debounce(function(){"auto"!==s.getSettings().width&&(s._element.style.width=s.getSettings().width,s._element.style.maxWidth=s.getSettings().width,s._element.style.overflowX="hidden"),"auto"!==s.getSettings().height?(s._element.style.height=s.getSettings().height,s._element.style.maxHeight=s.getSettings().height,s._element.style.overflowY="hidden"):s._element.style.height=s._slides[s._sliderIndex].offsetHeight+"px"},100),this.autoPlay=function(){s._canAutoSlide&&s.setSlider(parseInt(s._sliderIndex)+1)};this.getSettings=function(){return s.settings};if(this.settings=_extends({},{autoplay:!0,autoplaySpeed:7e3,transitionSpeed:300,arrows:!0,dots:!1,sliderIndex:0,width:"auto",height:"auto",gesture:!0,pauseOnHover:!0,className:"a11y-carousel",ariaRoledescriptionCarousel:"carousel",ariaRoledescriptionSlide:"slide",ariaLabel:"Slideshow",playText:"Start slide show",pauseText:"Stop slide show",previousText:"Previous",nextText:"Next",ofText:"of",slideText:"Slide",tablistText:"Choose slide to display"},i),this._selector=e,this._element=document.querySelector(e),this._playId=this._selector.slice(1)+"-play",this._prevId=this._selector.slice(1)+"-prev",this._nextId=this._selector.slice(1)+"-next",this._sliderIndex=this.getSettings().sliderIndex,this._wasPlaying=this.getSettings().autoplay,this._canAutoSlide=!0,(this._autoPlayInterval=null)===this._element)return!1;if(this.getSettings().transitionSpeed>this.getSettings().autoplaySpeed)throw"a11y Carousel: ðŸ¤š transitionSpeed can be greater than autoplaySpeed";var n=document.createElement("div");n.setAttribute("aria-roledescription",this.getSettings().ariaRoledescription),n.setAttribute("aria-label",this.getSettings().ariaLabel),n.classList.add(this.getSettings().className);var r=document.querySelector(this._selector);r.parentNode.insertBefore(n,r),n.appendChild(r),this._slides=n.querySelectorAll(this._selector+" > div"),this._element.style.position="relative",this._element.setAttribute("aria-live",this.getSettings().autoplay?"off":"polite"),this.initSlidesSize(),window.addEventListener("resize",function(){s.setSize()}),this._slides.forEach(function(t,e){t.setAttribute("id",s._selector.slice(1)+"-tabpanel-"+e),t.setAttribute("aria-label",e+1+" "+s.getSettings().ofText+" "+s._slides.length),t.style.transition="all "+s.getSettings().transitionSpeed+"ms",t.style.opacity=1,t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.right=0,t.style.display="none",e===s._sliderIndex&&(t.style.display="block")}),this.getSettings().dots?(this._slides.forEach(function(t,e){t.setAttribute("aria-labelledby",s._selector.slice(1)+"-tab-"+e),t.setAttribute("role","tabpanel")}),this.dotsWrapper=document.createElement("div"),this.dotsWrapper.classList.add("dots"),this.dotsWrapper.setAttribute("role","tablist"),this.dotsWrapper.setAttribute("aria-label",this.getSettings().tablistText),n.insertAdjacentElement("afterbegin",this.dotsWrapper),this._slides.forEach(function(t,e){var i=document.createElement("button");i.setAttribute("aria-controls",s._selector.slice(1)+"-tabpanel-"+e),i.setAttribute("id",s._selector.slice(1)+"-tab-"+e),i.setAttribute("data-slider-id",e),i.setAttribute("role","tab"),i.setAttribute("tabindex",-1),e==s._sliderIndex&&i.classList.add("active"),0==e&&i.setAttribute("tabindex",0),i.textContent=s.getSettings().slideText+" "+(e+1),s.dotsWrapper.insertAdjacentElement("beforeend",i),i.addEventListener("click",function(t){s.setSlider(t.target.getAttribute("data-slider-id"))}),i.addEventListener("keydown",function(t){39==t.which&&(t.preventDefault(),null!==t.currentTarget.nextSibling&&(t.currentTarget.nextSibling.focus(),s.setSlider(t.currentTarget.nextSibling.getAttribute("data-slider-id")))),37==t.which&&(t.preventDefault(),null!==t.currentTarget.previousSibling&&(t.currentTarget.previousSibling.focus(),s.setSlider(t.currentTarget.previousSibling.getAttribute("data-slider-id")))),36==t.which&&(t.preventDefault(),t.currentTarget.parentNode.childNodes[0].focus(),s.setSlider(t.currentTarget.parentNode.childNodes[0].getAttribute("data-slider-id"))),35==t.which&&(t.preventDefault(),t.currentTarget.parentNode.childNodes[t.currentTarget.parentNode.childNodes.length-1].focus(),s.setSlider(t.currentTarget.parentNode.childNodes[t.currentTarget.parentNode.childNodes.length-1].getAttribute("data-slider-id")))})})):this._slides.forEach(function(t,e){t.setAttribute("aria-roledescription","slide"),t.setAttribute("role","group")});var o=document.createElement("button"),a=document.createElement("button");this.getSettings().arrows&&(o.setAttribute("aria-controls",this._selector.slice(1)),o.textContent=this.getSettings().previousText,o.setAttribute("id",this._prevId),o.classList.add("prev"),a.setAttribute("aria-controls",this._selector.slice(1)),a.textContent=this.getSettings().nextText,a.setAttribute("id",this._nextId),a.classList.add("next"),n.insertAdjacentElement("afterbegin",a),n.insertAdjacentElement("afterbegin",o));var l=document.createElement("button");if(this.getSettings().autoplay&&(l.setAttribute("id",this._playId),this._autoPlayInterval=setInterval(this.autoPlay,parseInt(this.getSettings().autoplaySpeed)),this.getSettings().autoplay?(l.textContent=this.getSettings().pauseText,l.classList.add("playing"),n.insertAdjacentElement("afterbegin",l)):(l.textContent=this.getSettings().playText,l.classList.add("paused"))),document.addEventListener("click",debounce(function(t){t.target&&t.target.id==s._playId?(l.classList.toggle("playing"),l.classList.toggle("paused"),s._element.setAttribute("aria-live","polite"==s._element.getAttribute("aria-live")?"off":"polite"),s._wasPlaying?(l.textContent=s.getSettings().playText,s._canAutoSlide=!1):(s._canAutoSlide=!0,l.textContent=s.getSettings().pauseText),s._wasPlaying=!s._wasPlaying):t.target&&t.target.id==s._prevId?s.setSlider(parseInt(s._sliderIndex)-1):t.target&&t.target.id==s._nextId&&s.setSlider(parseInt(s._sliderIndex)+1)},200)),this.getSettings().gesture){var h=new TinyGesture(this._element);h.on("swiperight",debounce(function(){s.setSlider(parseInt(s._sliderIndex)-1)},200)),h.on("swipeleft",debounce(function(){s.setSlider(parseInt(s._sliderIndex)+1)},200))}this.getSettings().pauseOnHover&&(n.addEventListener("mouseenter",function(){s._canAutoSlide=!1,s._element.setAttribute("aria-live","polite")}),n.addEventListener("mouseleave",function(){var t=!1;try{t=!!n.querySelector("#"+document.activeElement.id)}catch(t){}s._wasPlaying&&!t&&(s._canAutoSlide=!0,s._element.setAttribute("aria-live","off"))}),n.querySelectorAll("button").forEach(function(t,e){t.getAttribute("id")!==s._playId&&t.addEventListener("focus",function(){s._canAutoSlide=!1,s._element.setAttribute("aria-live","polite")})}),n.addEventListener("focusout",function(t){n.contains(t.relatedTarget)||s._wasPlaying&&(s._canAutoSlide=!0,s._element.setAttribute("aria-live","off"))}))};